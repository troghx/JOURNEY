<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JSC - Personal Obrero</title>
  <link rel="icon" type="image/png" href="journey_no_bg.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
  />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      color-scheme: dark;
    }

    body {
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      margin: 0;
      background-color: #03040c;
      color: #f9fafb;
      position: relative;
      overflow: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 85% 15%, rgba(255, 212, 96, 0.55), rgba(255, 212, 96, 0) 55%),
        radial-gradient(circle at 12% 80%, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0) 60%);
      pointer-events: none;
      z-index: -2;
    }

    body::after {
      content: '';
      position: fixed;
      inset: -10% -20%;
      background-image:
        radial-gradient(1.2px 1.2px at 20px 35px, rgba(255, 255, 255, 0.9) 45%, transparent 70%),
        radial-gradient(1.2px 1.2px at 80px 120px, rgba(255, 248, 209, 0.85) 45%, transparent 70%),
        radial-gradient(1.2px 1.2px at 140px 60px, rgba(255, 255, 255, 0.8) 45%, transparent 70%),
        radial-gradient(1.2px 1.2px at 30px 160px, rgba(255, 245, 199, 0.75) 45%, transparent 70%),
        radial-gradient(1.2px 1.2px at 160px 190px, rgba(255, 255, 255, 0.85) 45%, transparent 70%);
      background-size: 220px 220px, 240px 240px, 260px 260px, 280px 280px, 300px 300px;
      opacity: 0.75;
      pointer-events: none;
      z-index: -1;
      animation: star-drift 120s linear infinite, star-twinkle 6s ease-in-out infinite;
    }

    @keyframes star-drift {
      from {
        transform: translate3d(0, 0, 0) rotate(0deg);
        background-position: 0 0, 0 0, 0 0, 0 0, 0 0;
      }
      to {
        transform: translate3d(4%, -2%, 0) rotate(360deg);
        background-position: -320px 180px, -260px 140px, -220px 120px, -180px 100px, -140px 80px;
      }
    }

    @keyframes star-twinkle {
      0%,
      100% {
        opacity: 0.55;
      }
      50% {
        opacity: 0.95;
      }
    }

    .glass-panel {
      background: rgba(17, 24, 39, 0.72);
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 24px 48px rgba(15, 23, 42, 0.4);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }

    .radial-menu {
      position: fixed;
      top: 0;
      left: 0;
      transform: translate(-50%, -50%);
      width: 0;
      height: 0;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.18s ease;
      z-index: 50;
    }

    .radial-menu.active {
      opacity: 1;
      pointer-events: auto;
    }

    .radial-menu .menu-item {
      position: absolute;
      width: 3.2rem;
      height: 3.2rem;
      border-radius: 9999px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(17, 24, 39, 0.85);
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.35);
      color: #f9fafb;
      transform: translate(-50%, -50%) scale(0.6);
      opacity: 0;
      transition: transform 0.22s ease, opacity 0.22s ease;
      pointer-events: auto;
    }

    .radial-menu.active .menu-item {
      opacity: 1;
    }

    .radial-menu .menu-item:hover {
      background: rgba(16, 185, 129, 0.88);
      border-color: rgba(16, 185, 129, 0.45);
      color: #022c22;
    }

    .menu-label {
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translate(-50%, 0.4rem);
      font-size: 0.65rem;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: rgba(249, 250, 251, 0.72);
      pointer-events: none;
      white-space: nowrap;
    }

    .radial-menu::after {
      content: '';
      position: absolute;
      width: 9rem;
      height: 9rem;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: radial-gradient(circle, rgba(16, 185, 129, 0.12), rgba(16, 185, 129, 0));
      opacity: 0;
      transition: opacity 0.2s ease;
      pointer-events: none;
    }

    .radial-menu.active::after {
      opacity: 1;
    }

    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body class="relative flex flex-col items-center justify-start px-6 py-12 sm:py-16">
  <a
    href="seleccionar_personal.html"
    class="absolute left-6 top-6 inline-flex items-center text-sm font-medium text-white/70 transition hover:text-white"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
    </svg>
    Volver
  </a>

  <header class="glass-panel mt-24 w-full max-w-3xl rounded-3xl px-8 py-10 text-center">
    <p class="text-sm font-medium uppercase tracking-[0.3em] text-white/60">Personal Obrero</p>
    <h1 class="mt-4 text-3xl font-semibold text-white">
      Bienvenido <span id="welcome-name" class="text-emerald-200"></span>
    </h1>
    <p class="mt-2 text-lg text-white/80">¿Qué haremos hoy?</p>
  </header>

  <section class="mt-14 w-full max-w-4xl">
    <div class="glass-panel rounded-3xl px-8 py-10 text-center">
      <p class="text-base text-white/70">
        Explora las acciones disponibles con el menú radial. Haz clic derecho en cualquier parte de la pantalla para descubrir herramientas rápidas
        como búsqueda de personal, alta de colaboradores o la consulta de reportes generados.
      </p>
      <p class="mt-6 text-sm text-white/40">Tip: puedes cerrar el menú radial haciendo clic fuera de él o presionando la tecla Escape.</p>
    </div>
  </section>

  <div id="radial-menu" class="radial-menu" aria-hidden="true">
    <button type="button" class="menu-item" data-action="buscar-personal">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
        <circle cx="11" cy="11" r="7" />
        <line x1="20" y1="20" x2="16.65" y2="16.65" />
      </svg>
      <span class="menu-label">Buscar personal</span>
    </button>
    <button type="button" class="menu-item" data-action="agregar-personal">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
        <path d="M12 5a4 4 0 110 8 4 4 0 010-8z" />
        <path d="M20 21a8 8 0 10-16 0" />
        <line x1="19" y1="8" x2="19" y2="14" />
        <line x1="16" y1="11" x2="22" y2="11" />
      </svg>
      <span class="menu-label">Agregar personal</span>
    </button>
    <button type="button" class="menu-item" data-action="buscar-reportes">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
        <path d="M9 3h6a2 2 0 012 2v14l-5-3-5 3V5a2 2 0 012-2z" />
      </svg>
      <span class="menu-label">Reportes</span>
    </button>
  </div>

  <script>
    const username = localStorage.getItem('jscUserName') || 'Equipo JSC';
    const nameTarget = document.getElementById('welcome-name');
    if (nameTarget) {
      nameTarget.textContent = username;
    }

    const radialMenu = document.getElementById('radial-menu');
    const menuItems = Array.from(radialMenu.querySelectorAll('.menu-item'));
    let isMenuOpen = false;

    const calculateItemPositions = (radius = 110) => {
      const angleStep = (Math.PI * 2) / menuItems.length;
      menuItems.forEach((item, index) => {
        const angle = angleStep * index - Math.PI / 2;
        const x = radius * Math.cos(angle);
        const y = radius * Math.sin(angle);
        requestAnimationFrame(() => {
          item.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) scale(1)`;
        });
      });
    };

    const resetItemPositions = () => {
      menuItems.forEach((item) => {
        item.style.transform = 'translate(-50%, -50%) scale(0.6)';
      });
    };

    const openRadialMenu = (x, y) => {
      radialMenu.style.left = `${x}px`;
      radialMenu.style.top = `${y}px`;
      radialMenu.setAttribute('aria-hidden', 'false');
      radialMenu.classList.add('active');
      isMenuOpen = true;
      requestAnimationFrame(() => calculateItemPositions());
    };

    const closeRadialMenu = () => {
      if (!isMenuOpen) return;
      radialMenu.classList.remove('active');
      radialMenu.setAttribute('aria-hidden', 'true');
      isMenuOpen = false;
      setTimeout(resetItemPositions, 200);
    };

    document.addEventListener('contextmenu', (event) => {
      event.preventDefault();
      openRadialMenu(event.clientX, event.clientY);
    });

    document.addEventListener('click', (event) => {
      if (!radialMenu.contains(event.target)) {
        closeRadialMenu();
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        closeRadialMenu();
      }
    });

    window.addEventListener('blur', closeRadialMenu);
    window.addEventListener('resize', closeRadialMenu);

    menuItems.forEach((item) => {
      item.addEventListener('click', () => {
        const action = item.dataset.action;
        closeRadialMenu();
        if (action) {
          const messageBanner = document.createElement('div');
          messageBanner.textContent = `Opción "${item.querySelector('.menu-label')?.textContent ?? action}" seleccionada.`;
          messageBanner.className = 'fixed bottom-8 left-1/2 z-40 -translate-x-1/2 rounded-full bg-emerald-500/90 px-5 py-2 text-sm font-medium text-emerald-950 shadow-lg shadow-emerald-500/40 transition duration-300';
          document.body.appendChild(messageBanner);
          setTimeout(() => {
            messageBanner.classList.add('opacity-0', 'translate-y-3');
          }, 1800);
          setTimeout(() => messageBanner.remove(), 2100);
        }
      });
    });

    resetItemPositions();
  </script>
</body>
</html>
